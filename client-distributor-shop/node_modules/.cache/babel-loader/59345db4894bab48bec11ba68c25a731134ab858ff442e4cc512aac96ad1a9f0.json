{"ast":null,"code":"import _regeneratorRuntime from\"/home/z3r0/Desktop/binastaNode2/client-distributor-shop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/z3r0/Desktop/binastaNode2/client-distributor-shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/z3r0/Desktop/binastaNode2/client-distributor-shop/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/z3r0/Desktop/binastaNode2/client-distributor-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/z3r0/Desktop/binastaNode2/client-distributor-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{setAuthenticated,useAuthenticateUserMutation}from\"@/store/reducers/userSlice\";import{useAppDispatch}from\"@/store/hooks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LoginForm(){var dispatch=useAppDispatch();var _useAuthenticateUserM=useAuthenticateUserMutation(),_useAuthenticateUserM2=_slicedToArray(_useAuthenticateUserM,2),login=_useAuthenticateUserM2[0],_useAuthenticateUserM3=_useAuthenticateUserM2[1],isSuccess=_useAuthenticateUserM3.isSuccess,isError=_useAuthenticateUserM3.isError,isLoading=_useAuthenticateUserM3.isLoading;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var onChange=function onChange(e){setForm(function(state){return _objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value));});};var authenticate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!form.email||!form.password)){_context.next=3;break;}return _context.abrupt(\"return\");case 3:login(form);setForm({email:'',password:''});dispatch(setAuthenticated(true));case 6:case\"end\":return _context.stop();}},_callee);}));return function authenticate(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{method:\"post\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:onChange,value:form.email,name:\"email\",placeholder:\"Username Or Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:onChange,value:form.password,name:\"password\",placeholder:\"Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_footer form-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chek-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custome-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",name:\"checkbox\",id:\"remember\",value:\"\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Remember me\"})})]})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{onClick:authenticate,className:\"btn btn-md\",name:\"login\",children:\"Log in\"})})]})});}export default LoginForm;","map":{"version":3,"names":["useState","setAuthenticated","useAuthenticateUserMutation","useAppDispatch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginForm","dispatch","_useAuthenticateUserM","_useAuthenticateUserM2","_slicedToArray","login","_useAuthenticateUserM3","isSuccess","isError","isLoading","_useState","email","password","_useState2","form","setForm","onChange","e","state","_objectSpread","_defineProperty","target","name","value","authenticate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","abrupt","stop","_x","apply","arguments","children","method","className","type","placeholder","id","href","onClick"],"sources":["/home/z3r0/Desktop/binastaNode2/client-distributor-shop/src/components/checkout/LoginForm.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { setAuthenticated, useAuthenticateUserMutation } from \"@/store/reducers/userSlice\";\nimport { useAppDispatch } from \"@/store/hooks\";\n\nfunction LoginForm() {\n    const dispatch = useAppDispatch();\n    const [ login, { isSuccess, isError, isLoading } ] = useAuthenticateUserMutation();\n    const [ form, setForm ] = useState({\n        email: '',\n        password: ''\n    });\n    \n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setForm((state) => ({\n            ...state,\n            [e.target.name]: e.target.value\n        }))\n    };\n\n    const authenticate = async (e: React.MouseEvent<HTMLButtonElement>) => {\n        e.preventDefault();\n        if (!form.email || !form.password) return;\n\n        login(form);\n\n        setForm({\n            email: '',\n            password: ''\n        });\n\n        dispatch(setAuthenticated(true));\n    };\n\n    return (\n        <>\n            <form method=\"post\">\n                <div className=\"form-group\">\n                    <input type=\"text\" onChange={ onChange } value={ form.email } name=\"email\" placeholder=\"Username Or Email\" />\n                </div>\n                <div className=\"form-group\">\n                    <input type=\"password\" onChange={ onChange } value={ form.password } name=\"password\" placeholder=\"Password\" />\n                </div>\n                <div className=\"login_footer form-group\">\n                    <div className=\"chek-form\">\n                        <div className=\"custome-checkbox\">\n                            <input className=\"form-check-input\" type=\"checkbox\" name=\"checkbox\" id=\"remember\" value=\"\" />\n                            <label className=\"form-check-label\"><span>Remember me</span></label>\n                        </div>\n                    </div>\n                    <a href=\"#\">Forgot password?</a>\n                </div>\n                <div className=\"form-group\">\n                    <button onClick={ authenticate } className=\"btn btn-md\" name=\"login\">Log in</button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}