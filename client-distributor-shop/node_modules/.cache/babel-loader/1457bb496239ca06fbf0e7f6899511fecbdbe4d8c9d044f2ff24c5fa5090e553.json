{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import{createApi,fetchBaseQuery}from'@reduxjs/toolkit/query/react';var initialUser={authenticated:false};export var userApiSlice=createApi({reducerPath:\"userApi\",baseQuery:fetchBaseQuery({baseUrl:\"/auth\"}),tagTypes:['user'],endpoints:function endpoints(builder){return{registerUser:builder.mutation({query:function query(user){return{url:\"/register\",method:\"POST\",body:user};},transformResponse:function transformResponse(response){return response;}}),authenticateUser:builder.mutation({query:function query(user){return{url:\"/login\",method:\"POST\",body:user};}})};}});var useRegisterUserMutation=userApiSlice.useRegisterUserMutation,useAuthenticateUserMutation=userApiSlice.useAuthenticateUserMutation;export{useRegisterUserMutation,useAuthenticateUserMutation};export var userSlice=createSlice({name:'user',initialState:initialUser,reducers:{resetUserSlice:function resetUserSlice(state){state=initialUser;},setAuthenticated:function setAuthenticated(state,action){state.authenticated=action.payload;}}});export var resetUsersApiSlice=function resetUsersApiSlice(){return userApiSlice.util.resetApiState();};var _userSlice$actions=userSlice.actions,resetUserSlice=_userSlice$actions.resetUserSlice,setAuthenticated=_userSlice$actions.setAuthenticated;export{resetUserSlice,setAuthenticated};export default userSlice.reducer;","map":{"version":3,"names":["createSlice","createApi","fetchBaseQuery","initialUser","authenticated","userApiSlice","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","registerUser","mutation","query","user","url","method","body","transformResponse","response","authenticateUser","useRegisterUserMutation","useAuthenticateUserMutation","userSlice","name","initialState","reducers","resetUserSlice","state","setAuthenticated","action","payload","resetUsersApiSlice","util","resetApiState","_userSlice$actions","actions","reducer"],"sources":["/home/z3r0/Desktop/binastaNode2/client-distributor-shop/src/store/reducers/userSlice.ts"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\n\nexport type User = {\n    id?: number | null,\n    email?: string,\n    password?: string,\n    authenticated?: boolean\n}\n\nconst initialUser: User = {\n    authenticated: false\n};\n\nexport const userApiSlice = createApi({\n    reducerPath: \"userApi\",\n    baseQuery: fetchBaseQuery({\n        baseUrl: `/auth`,\n    }),\n    tagTypes: ['user'],\n    endpoints: (builder) => ({\n        registerUser: builder.mutation<{ status: boolean }, User>({\n            query: (user) => ({\n                url: \"/register\",\n                method: \"POST\",\n                body: user\n            }),\n            transformResponse: (response: { status: boolean }) => response as { status: boolean }  \n        }),\n        authenticateUser: builder.mutation<{user: User}, User>({\n          query: (user) => ({\n            url: \"/login\",\n            method: \"POST\",\n            body: user\n          }),\n        })\n    })\n});\n\nexport const {  useRegisterUserMutation, useAuthenticateUserMutation  } = userApiSlice;\n\nexport const userSlice = createSlice({\n    name: 'user',\n    initialState: initialUser,\n    reducers: {\n        resetUserSlice: (state) => {\n            state = initialUser\n        },\n        setAuthenticated: (state, action) => {\n            state.authenticated = action.payload\n        }\n    }\n});\n\nexport const resetUsersApiSlice = () => userApiSlice.util.resetApiState();\n\nexport const { resetUserSlice, setAuthenticated } = userSlice.actions;\n\nexport default userSlice.reducer;"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,CAAEC,cAAc,KAAQ,8BAA8B,CASxE,GAAM,CAAAC,WAAiB,CAAG,CACtBC,aAAa,CAAE,KACnB,CAAC,CAED,MAAO,IAAM,CAAAC,YAAY,CAAGJ,SAAS,CAAC,CAClCK,WAAW,CAAE,SAAS,CACtBC,SAAS,CAAEL,cAAc,CAAC,CACtBM,OAAO,QACX,CAAC,CAAC,CACFC,QAAQ,CAAE,CAAC,MAAM,CAAC,CAClBC,SAAS,CAAE,SAAAA,UAACC,OAAO,QAAM,CACrBC,YAAY,CAAED,OAAO,CAACE,QAAQ,CAA4B,CACtDC,KAAK,CAAE,SAAAA,MAACC,IAAI,QAAM,CACdC,GAAG,CAAE,WAAW,CAChBC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEH,IACV,CAAC,EAAC,CACFI,iBAAiB,CAAE,SAAAA,kBAACC,QAA6B,QAAK,CAAAA,QAAQ,EAClE,CAAC,CAAC,CACFC,gBAAgB,CAAEV,OAAO,CAACE,QAAQ,CAAqB,CACrDC,KAAK,CAAE,SAAAA,MAACC,IAAI,QAAM,CAChBC,GAAG,CAAE,QAAQ,CACbC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEH,IACR,CAAC,EACH,CAAC,CACL,CAAC,EACL,CAAC,CAAC,CAEK,GAAS,CAAAO,uBAAuB,CAAmCjB,YAAY,CAAtEiB,uBAAuB,CAAEC,2BAA2B,CAAMlB,YAAY,CAA7CkB,2BAA2B,CAAmB,OAAAD,uBAAA,CAAAC,2BAAA,EAEvF,MAAO,IAAM,CAAAC,SAAS,CAAGxB,WAAW,CAAC,CACjCyB,IAAI,CAAE,MAAM,CACZC,YAAY,CAAEvB,WAAW,CACzBwB,QAAQ,CAAE,CACNC,cAAc,CAAE,SAAAA,eAACC,KAAK,CAAK,CACvBA,KAAK,CAAG1B,WAAW,CACvB,CAAC,CACD2B,gBAAgB,CAAE,SAAAA,iBAACD,KAAK,CAAEE,MAAM,CAAK,CACjCF,KAAK,CAACzB,aAAa,CAAG2B,MAAM,CAACC,OAAO,CACxC,CACJ,CACJ,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,QAAS,CAAA5B,YAAY,CAAC6B,IAAI,CAACC,aAAa,CAAC,CAAC,GAElE,IAAAC,kBAAA,CAA6CZ,SAAS,CAACa,OAAO,CAAtDT,cAAc,CAAAQ,kBAAA,CAAdR,cAAc,CAAEE,gBAAgB,CAAAM,kBAAA,CAAhBN,gBAAgB,CAAuB,OAAAF,cAAA,CAAAE,gBAAA,EAEtE,cAAe,CAAAN,SAAS,CAACc,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}