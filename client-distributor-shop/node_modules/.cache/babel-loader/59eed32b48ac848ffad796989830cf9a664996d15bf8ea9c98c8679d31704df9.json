{"ast":null,"code":"import _objectSpread from\"/home/z3r0/Desktop/binastaNode2/client-distributor-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/z3r0/Desktop/binastaNode2/client-distributor-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Products from\"@/components/shop/Products\";import Categories from\"@/components/shop/Categories\";import PageHeader from\"@/components/shop/PageHeader\";import{useFetchProductsQuery}from\"@/store/reducers/productsSlice\";import{useFetchProductCategoriesQuery}from\"@/store/reducers/productCategorySlice\";import{useState}from\"react\";import Loader from\"@/components/common/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Shop(){var _useState=useState({offset:0,per_page:10,cat:null}),_useState2=_slicedToArray(_useState,2),shopState=_useState2[0],setShopState=_useState2[1];var _useFetchProductsQuer=useFetchProductsQuery(_objectSpread({},shopState)),products=_useFetchProductsQuer.data,isProductsLoading=_useFetchProductsQuer.isLoading;var _useFetchProductCateg=useFetchProductCategoriesQuery(),categories=_useFetchProductCateg.data;var onPageNext=function onPageNext(e){e.preventDefault();setShopState(function(state){return _objectSpread(_objectSpread({},state),{},{offset:state.offset+state.per_page});});};var onPagePrev=function onPagePrev(e){e.preventDefault();if(shopState.offset===0)return;var newOffset=shopState.offset-shopState.per_page;if(newOffset<=0)newOffset=0;setShopState(function(state){return _objectSpread(_objectSpread({},state),{},{offset:newOffset});});};var selectCategory=function selectCategory(category){setShopState(function(state){return _objectSpread(_objectSpread({},state),{},{cat:category});});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageHeader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container mb-30\",style:{transform:\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row flex-row-reverse\",style:{transform:\"none\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-4-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"shop-product-fillter\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"totall-product\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"We found \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-brand\",children:products===null||products===void 0?void 0:products.length}),\" items for you!\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sort-by-product-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sort-by-cover mr-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sort-by-product-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sort-by\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-rs-apps\"}),\"Show:\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"sort-by-dropdown-wrap\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\" 50 \",/*#__PURE__*/_jsx(\"i\",{className:\"fi-rs-angle-small-down\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sort-by-dropdown\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"active\",href:\"#\",children:\"50\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"100\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"150\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"200\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"All\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sort-by-cover\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sort-by-product-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sort-by\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-rs-apps-sort\"}),\"Sort by:\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"sort-by-dropdown-wrap\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\" Featured \",/*#__PURE__*/_jsx(\"i\",{className:\"fi-rs-angle-small-down\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sort-by-dropdown\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"active\",href:\"#\",children:\"Featured\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Price: Low to High\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Price: High to Low\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Release Date\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Avg. Rating\"})})]})})]})]})]}),!isProductsLoading&&products?/*#__PURE__*/_jsx(Products,{products:products}):/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination-area mt-20 mb-20\",children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination justify-content-middle\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onPagePrev,className:\"page-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fi-rs-arrow-small-left\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onPageNext,className:\"page-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fi-rs-arrow-small-right\"})})})]})})})]}),/*#__PURE__*/_jsx(Categories,{selectCategory:selectCategory,categories:categories})]})})]});}export default Shop;","map":{"version":3,"names":["Products","Categories","PageHeader","useFetchProductsQuery","useFetchProductCategoriesQuery","useState","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Shop","_useState","offset","per_page","cat","_useState2","_slicedToArray","shopState","setShopState","_useFetchProductsQuer","_objectSpread","products","data","isProductsLoading","isLoading","_useFetchProductCateg","categories","onPageNext","e","preventDefault","state","onPagePrev","newOffset","selectCategory","category","children","className","style","transform","length","href","onClick"],"sources":["/home/z3r0/Desktop/binastaNode2/client-distributor-shop/src/views/Shop.tsx"],"sourcesContent":["import Products from \"@/components/shop/Products\";\nimport Categories from \"@/components/shop/Categories\";\nimport PageHeader from \"@/components/shop/PageHeader\";\nimport { Product, useFetchProductsQuery } from \"@/store/reducers/productsSlice\";\nimport { ProductCategory, useFetchProductCategoriesQuery } from \"@/store/reducers/productCategorySlice\";\nimport { useState } from \"react\";\nimport Loader from \"@/components/common/Loader\";\n\nfunction Shop() {\n  const [shopState, setShopState] = useState<{offset: number, per_page: number, cat: string | null}>({\n    offset: 0,\n    per_page: 10,\n    cat: null\n  });\n  \n\n\n  const { data: products, isLoading: isProductsLoading } = useFetchProductsQuery({ ...shopState });\n  const { data: categories } = useFetchProductCategoriesQuery();\n\n  const onPageNext = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n\n    setShopState((state) => ({\n      ...state,\n      offset: state.offset + state.per_page\n    }));\n  };\n\n  const onPagePrev = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    if (shopState.offset === 0) return;\n\n    let newOffset = shopState.offset - shopState.per_page\n    if (newOffset <= 0 ) newOffset = 0;\n\n    setShopState((state) => ({\n        ...state,\n        offset: newOffset\n    }));\n  }\n\n  const selectCategory = (category: string) => {\n    setShopState((state) => ({\n      ...state,\n      cat: category\n    }))\n  }\n\n  return (\n    <>\n      <PageHeader />\n      <div className=\"container mb-30\" style={{\n        transform: \"none\"\n      }}>\n        <div className=\"row flex-row-reverse\" style={{\n          transform: \"none\"\n        }}>\n          <div className=\"col-lg-4-5\">\n            <div className=\"shop-product-fillter\">\n              <div className=\"totall-product\">\n                <p>We found <strong className=\"text-brand\">{products?.length}</strong> items for you!</p>\n              </div>\n              <div className=\"sort-by-product-area\">\n                <div className=\"sort-by-cover mr-10\">\n                  <div className=\"sort-by-product-wrap\">\n                    <div className=\"sort-by\">\n                      <span><i className=\"fi-rs-apps\"></i>Show:</span>\n                    </div>\n                    <div className=\"sort-by-dropdown-wrap\">\n                      <span> 50 <i className=\"fi-rs-angle-small-down\"></i></span>\n                    </div>\n                  </div>\n                  <div className=\"sort-by-dropdown\">\n                    <ul>\n                      <li><a className=\"active\" href=\"#\">50</a></li>\n                      <li><a href=\"#\">100</a></li>\n                      <li><a href=\"#\">150</a></li>\n                      <li><a href=\"#\">200</a></li>\n                      <li><a href=\"#\">All</a></li>\n                    </ul>\n                  </div>\n                </div>\n                <div className=\"sort-by-cover\">\n                  <div className=\"sort-by-product-wrap\">\n                    <div className=\"sort-by\">\n                      <span><i className=\"fi-rs-apps-sort\"></i>Sort by:</span>\n                    </div>\n                    <div className=\"sort-by-dropdown-wrap\">\n                      <span> Featured <i className=\"fi-rs-angle-small-down\"></i></span>\n                    </div>\n                  </div>\n                  <div className=\"sort-by-dropdown\">\n                    <ul>\n                      <li><a className=\"active\" href=\"#\">Featured</a></li>\n                      <li><a href=\"#\">Price: Low to High</a></li>\n                      <li><a href=\"#\">Price: High to Low</a></li>\n                      <li><a href=\"#\">Release Date</a></li>\n                      <li><a href=\"#\">Avg. Rating</a></li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n            { !isProductsLoading && products ?  <Products products={products as Product[]} /> : <Loader /> }\n\n            <div className=\"pagination-area mt-20 mb-20\">\n                    <nav aria-label=\"Page navigation example\">\n                        <ul className=\"pagination justify-content-middle\">\n                            <li className=\"page-item\">\n                                <button onClick={onPagePrev} className=\"page-link\"><i className=\"fi-rs-arrow-small-left\"></i></button>\n                            </li>\n                            <li className=\"page-item\">\n                                <button onClick={onPageNext} className=\"page-link\"><i className=\"fi-rs-arrow-small-right\"></i></button>\n                            </li>\n                        </ul>\n                    </nav>\n                </div>\n          </div>\n          <Categories selectCategory={selectCategory}  categories={categories as ProductCategory[]} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Shop;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}