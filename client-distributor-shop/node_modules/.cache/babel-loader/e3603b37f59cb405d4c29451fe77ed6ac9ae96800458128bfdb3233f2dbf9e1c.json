{"ast":null,"code":"import{useAppSelector,useAppDispatch}from\"@/store/hooks\";import{addCart}from\"@/store/reducers/cartSlice\";import{useFetchProductsQuery}from\"@/store/reducers/productsSlice\";import{Link}from\"react-router-dom\";import Loader from\"../common/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Products(){var dispatch=useAppDispatch();var _useFetchProductsQuer=useFetchProductsQuery(),products=_useFetchProductsQuer.data,isLoading=_useFetchProductsQuer.isLoading,isError=_useFetchProductsQuer.isError,isSuccess=_useFetchProductsQuer.isSuccess;var cart=useAppSelector(function(state){return state.cart;});var onAddCartProduct=function onAddCartProduct(e,product,selectedVariation){dispatch(addCart({product:product,selectedVariation:selectedVariation,quantity:1}));};return/*#__PURE__*/_jsx(\"section\",{className:\"product-tabs section-padding position-relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-title style-2 wow animate__ animate__fadeIn animated\",style:{visibility:\"visible\",animationName:\"fadeIn\"},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Popular Products\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",id:\"myTabContent\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tab-pane fade show active\",id:\"tab-one\",role:\"tabpanel\",\"aria-labelledby\":\"tab-one\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row product-grid-4\",children:products?products.map(function(product){var _product$images,_product$images2,_product$images2$,_product$variations;return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-1-5 col-md-4 col-12 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-cart-wrap mb-30 wow animate__ animate__fadeIn animated\",\"data-wow-delay\":\".1s\",style:{visibility:\"visible\",animationDelay:\"0.1s\",animationName:\"fadeIn\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-img-action-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-img product-img-zoom\",children:/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(product===null||product===void 0?void 0:product.slug),children:[/*#__PURE__*/_jsx(\"img\",{className:\"default-img\",style:{maxHeight:window.innerWidth>750?240:\"100%`\"},src:product===null||product===void 0?void 0:(_product$images=product.images)===null||_product$images===void 0?void 0:_product$images[0].url,alt:\"\",loading:\"lazy\"}),/*#__PURE__*/_jsx(\"img\",{className:\"hover-img\",src:product===null||product===void 0?void 0:(_product$images2=product.images)===null||_product$images2===void 0?void 0:(_product$images2$=_product$images2[1])===null||_product$images2$===void 0?void 0:_product$images2$.url,alt:\"\",loading:\"lazy\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-badges product-badges-position product-badges-mrg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"hot\",children:\"Hot\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-content-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-category\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product===null||product===void 0?void 0:product.slug),children:product.category_name})}),/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product===null||product===void 0?void 0:product.slug),children:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-card-bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-price\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"ksh.\",(_product$variations=product.variations)===null||_product$variations===void 0?void 0:_product$variations[0].buy_price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"add-cart\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"add\",onClick:function onClick(event){var _product$variations2;return onAddCartProduct(event,product,product===null||product===void 0?void 0:(_product$variations2=product.variations)===null||_product$variations2===void 0?void 0:_product$variations2[0]);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-rs-shopping-cart mr-5\"}),cart.products.find(function(cartProduct){return cartProduct.product.slug===product.slug;})?'In Cart':'Add']})})]})]})]})},product.slug);}):/*#__PURE__*/_jsx(Loader,{})})})})]})});}export default Products;","map":{"version":3,"names":["useAppSelector","useAppDispatch","addCart","useFetchProductsQuery","Link","Loader","jsx","_jsx","jsxs","_jsxs","Products","dispatch","_useFetchProductsQuer","products","data","isLoading","isError","isSuccess","cart","state","onAddCartProduct","e","product","selectedVariation","quantity","className","children","style","visibility","animationName","id","role","map","_product$images","_product$images2","_product$images2$","_product$variations","animationDelay","to","concat","slug","maxHeight","window","innerWidth","src","images","url","alt","loading","category_name","name","variations","buy_price","onClick","event","_product$variations2","find","cartProduct"],"sources":["/home/z3r0/Desktop/binastaNode2/client-distributor-shop/src/components/index/Products.tsx"],"sourcesContent":["import { useAppSelector, useAppDispatch } from \"@/store/hooks\";\r\nimport { ProductVariation } from \"@/types/ProductVariation.type\";\r\nimport { addCart } from \"@/store/reducers/cartSlice\";\r\nimport { Product, useFetchProductsQuery } from \"@/store/reducers/productsSlice\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Loader from \"../common/Loader\";\r\n\r\nfunction Products() {\r\n    const dispatch  = useAppDispatch();\r\n    const { data: products, isLoading, isError, isSuccess } = useFetchProductsQuery();\r\n    const cart = useAppSelector(state => state.cart);\r\n    \r\n    const onAddCartProduct = (e: React.MouseEvent<HTMLButtonElement>, product: Product, selectedVariation: ProductVariation | undefined) => {\r\n        dispatch(addCart({ \r\n            product,\r\n            selectedVariation,\r\n            quantity: 1\r\n        }));\r\n    };\r\n    return (\r\n        <section className=\"product-tabs section-padding position-relative\">\r\n            <div className=\"container\">\r\n                <div className=\"section-title style-2 wow animate__ animate__fadeIn animated\" style={\r\n                    {\r\n                        visibility: \"visible\",\r\n                        animationName: \"fadeIn\",\r\n                    }\r\n                }>\r\n                    <h3>Popular Products</h3>\r\n                </div>\r\n                <div className=\"tab-content\" id=\"myTabContent\">\r\n                    <div className=\"tab-pane fade show active\" id=\"tab-one\" role=\"tabpanel\" aria-labelledby=\"tab-one\">\r\n                        <div className=\"row product-grid-4\">\r\n                            {\r\n                                products ? products.map(product => (\r\n                                    <div className=\"col-lg-1-5 col-md-4 col-12 col-sm-6\" key={product.slug}>\r\n                                <div className=\"product-cart-wrap mb-30 wow animate__ animate__fadeIn animated\" data-wow-delay=\".1s\" style={{\r\n                                    visibility: \"visible\",\r\n                                    animationDelay: \"0.1s\",\r\n                                    animationName: \"fadeIn\"\r\n                                }}>\r\n                                    <div className=\"product-img-action-wrap\">\r\n                                        <div className=\"product-img product-img-zoom\">\r\n                                            <Link to={ `/product/${product?.slug}` }>\r\n                                                <img className=\"default-img\" style={\r\n                                                    {\r\n                                                        maxHeight: window.innerWidth > 750 ? 240 : \"100%`\"\r\n                                                    }\r\n                                                } src={product?.images?.[0].url} alt=\"\" loading=\"lazy\" />\r\n                                                <img className=\"hover-img\" src={product?.images?.[1]?.url} alt=\"\" loading=\"lazy\" />\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div className=\"product-badges product-badges-position product-badges-mrg\">\r\n                                            <span className=\"hot\">Hot</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"product-content-wrap\">\r\n                                        <div className=\"product-category\">\r\n                                            <Link to={ `/product/${product?.slug}` }>{ product.category_name  }</Link>\r\n                                        </div>\r\n                                        <h2><Link to={ `/product/${product?.slug}` }>{ product.name }</Link></h2>\r\n                                        <div className=\"product-card-bottom\">\r\n                                            <div className=\"product-price\">\r\n                                                <span>ksh.{ product.variations?.[0].buy_price }</span>\r\n                                                {/* <span className=\"old-price\">$32.8</span> */}\r\n                                            </div>\r\n                                            <div className=\"add-cart\">\r\n                                                <button className=\"add\" onClick={ (event) => onAddCartProduct(event, product, product?.variations?.[0]) }><i className=\"fi-rs-shopping-cart mr-5\"></i>{ cart.products.find((cartProduct) => cartProduct.product.slug === product.slug) ? 'In Cart' : 'Add' }</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>    \r\n                                )) : <Loader />\r\n                            }                        \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n  )\r\n}\r\n\r\nexport default Products;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}