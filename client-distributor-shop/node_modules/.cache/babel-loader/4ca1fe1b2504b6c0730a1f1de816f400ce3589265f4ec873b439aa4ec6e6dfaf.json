{"ast":null,"code":"import{createApi,fetchBaseQuery}from\"@reduxjs/toolkit/dist/query/react\";import{createSlice}from\"@reduxjs/toolkit\";var initialState={products:[]};export var productApiSlice=createApi({reducerPath:\"productApi\",baseQuery:fetchBaseQuery({baseUrl:\"/products\"}),tagTypes:['products','product'],endpoints:function endpoints(builder){return{fetchProducts:builder.query({query:function query(){var args=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{per_page:10,offset:0,cat:''};return\"/?per_page=\".concat(args.per_page,\"&offset=\").concat(args.offset).concat(args.cat?\"&cat=\".concat(args.cat):'');},transformResponse:function transformResponse(response){return response.products;},providesTags:['products']}),fetchSingleProduct:builder.query({query:function query(_ref){var slug=_ref.slug;return\"/\".concat(slug);},transformResponse:function transformResponse(response){return response.product[0];},providesTags:['products']}),fetchProductsByCategory:builder.query({query:function query(_ref2){var _ref2$per_page=_ref2.per_page,per_page=_ref2$per_page===void 0?10:_ref2$per_page,_ref2$offset=_ref2.offset,offset=_ref2$offset===void 0?0:_ref2$offset;return\"/?per_page=\".concat(per_page,\"&offset=\").concat(offset);},transformResponse:function transformResponse(response){return response.products;},providesTags:['products']})};}});var useFetchProductsQuery=productApiSlice.useFetchProductsQuery,useFetchSingleProductQuery=productApiSlice.useFetchSingleProductQuery,useFetchProductsByCategoryQuery=productApiSlice.useFetchProductsByCategoryQuery;export{useFetchProductsQuery,useFetchSingleProductQuery,useFetchProductsByCategoryQuery};export var productSlice=createSlice({name:'addresses',initialState:initialState.products,reducers:{resetAddressSlice:function resetAddressSlice(state){state=initialState.products;}}});var resetAddressSlice=productSlice.actions.resetAddressSlice;export{resetAddressSlice};export default productSlice.reducer;","map":{"version":3,"names":["createApi","fetchBaseQuery","createSlice","initialState","products","productApiSlice","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","fetchProducts","query","args","arguments","length","undefined","per_page","offset","cat","concat","transformResponse","response","providesTags","fetchSingleProduct","_ref","slug","product","fetchProductsByCategory","_ref2","_ref2$per_page","_ref2$offset","useFetchProductsQuery","useFetchSingleProductQuery","useFetchProductsByCategoryQuery","productSlice","name","reducers","resetAddressSlice","state","actions","reducer"],"sources":["/home/z3r0/Desktop/binastaNode2/client-distributor-shop/src/store/reducers/productsSlice.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\"\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { ProductVariation } from \"@/types/ProductVariation.type\";\nimport { argv } from \"process\";\n\nexport type Product = {\n    id?: number,\n    category_name?: string,\n    category_slug?: string,\n    name?: string,\n    slug?: string,\n    description?: string,\n    variations?: ProductVariation[],\n    images?: {url: string, ext: string}[],\n    related?: Product[]\n}\n\nconst initialState = {\n    products: [] as Product[],\n};\n\nexport const productApiSlice = createApi({\n    reducerPath: \"productApi\",\n    baseQuery: fetchBaseQuery({\n        baseUrl: `/products`\n    }),\n    tagTypes: ['products', 'product'],\n    endpoints: (builder) => ({\n        fetchProducts: builder.query<Product[], { per_page:number, offset: number, cat?: string | null } | void>({\n            query: (args: { per_page: number, offset: number, cat?: string | null} = { per_page: 10, offset: 0, cat: '' }) => `/?per_page=${args.per_page}&offset=${args.offset}${args.cat ? `&cat=${args.cat}` : ''}`,\n            transformResponse: (response: { products: Product[] }) => response.products,\n            providesTags: ['products'],\n        }),\n        fetchSingleProduct: builder.query<Product, { slug: string }>({\n            query: ({ slug }) => `/${slug}`,\n            transformResponse: (response: { product: Product[] }) => response.product[0],\n            providesTags: ['products']\n        }),\n        fetchProductsByCategory: builder.query<Product[], {per_page?: number, offset: number} | void>({\n            query: ({per_page = 10, offset = 0}: { per_page?: number, offset: number}) => `/?per_page=${per_page}&offset=${offset}`,\n            transformResponse: (response: { products: Product[] }) => response.products,\n            providesTags: ['products']\n        })\n    })\n});\n\nexport const { useFetchProductsQuery, useFetchSingleProductQuery, useFetchProductsByCategoryQuery } = productApiSlice;\n\n\nexport const productSlice = createSlice({\n    name: 'addresses',\n    initialState: initialState.products,\n    reducers: {\n        resetAddressSlice: (state) => {\n            state = initialState.products\n        },\n    }\n});\n\nexport const { resetAddressSlice } = productSlice.actions;\n\nexport default productSlice.reducer;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,cAAc,KAAQ,mCAAmC,CAC7E,OAASC,WAAW,KAAQ,kBAAkB,CAgB9C,GAAM,CAAAC,YAAY,CAAG,CACjBC,QAAQ,CAAE,EACd,CAAC,CAED,MAAO,IAAM,CAAAC,eAAe,CAAGL,SAAS,CAAC,CACrCM,WAAW,CAAE,YAAY,CACzBC,SAAS,CAAEN,cAAc,CAAC,CACtBO,OAAO,YACX,CAAC,CAAC,CACFC,QAAQ,CAAE,CAAC,UAAU,CAAE,SAAS,CAAC,CACjCC,SAAS,CAAE,SAAAA,UAACC,OAAO,QAAM,CACrBC,aAAa,CAAED,OAAO,CAACE,KAAK,CAA6E,CACrGA,KAAK,CAAE,SAAAA,MAAA,KAAC,CAAAC,IAA8D,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAEG,QAAQ,CAAE,EAAE,CAAEC,MAAM,CAAE,CAAC,CAAEC,GAAG,CAAE,EAAG,CAAC,qBAAAC,MAAA,CAAmBP,IAAI,CAACI,QAAQ,aAAAG,MAAA,CAAWP,IAAI,CAACK,MAAM,EAAAE,MAAA,CAAGP,IAAI,CAACM,GAAG,SAAAC,MAAA,CAAWP,IAAI,CAACM,GAAG,EAAK,EAAE,GAAE,CAC1ME,iBAAiB,CAAE,SAAAA,kBAACC,QAAiC,QAAK,CAAAA,QAAQ,CAACnB,QAAQ,GAC3EoB,YAAY,CAAE,CAAC,UAAU,CAC7B,CAAC,CAAC,CACFC,kBAAkB,CAAEd,OAAO,CAACE,KAAK,CAA4B,CACzDA,KAAK,CAAE,SAAAA,MAAAa,IAAA,KAAG,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,WAAAN,MAAA,CAAWM,IAAI,GAAE,CAC/BL,iBAAiB,CAAE,SAAAA,kBAACC,QAAgC,QAAK,CAAAA,QAAQ,CAACK,OAAO,CAAC,CAAC,CAAC,GAC5EJ,YAAY,CAAE,CAAC,UAAU,CAC7B,CAAC,CAAC,CACFK,uBAAuB,CAAElB,OAAO,CAACE,KAAK,CAAwD,CAC1FA,KAAK,CAAE,SAAAA,MAAAiB,KAAA,MAAAC,cAAA,CAAAD,KAAA,CAAEZ,QAAQ,CAARA,QAAQ,CAAAa,cAAA,UAAG,EAAE,CAAAA,cAAA,CAAAC,YAAA,CAAAF,KAAA,CAAEX,MAAM,CAANA,MAAM,CAAAa,YAAA,UAAG,CAAC,CAAAA,YAAA,qBAAAX,MAAA,CAA0DH,QAAQ,aAAAG,MAAA,CAAWF,MAAM,GAAE,CACvHG,iBAAiB,CAAE,SAAAA,kBAACC,QAAiC,QAAK,CAAAA,QAAQ,CAACnB,QAAQ,GAC3EoB,YAAY,CAAE,CAAC,UAAU,CAC7B,CAAC,CACL,CAAC,EACL,CAAC,CAAC,CAEK,GAAQ,CAAAS,qBAAqB,CAAkE5B,eAAe,CAAtG4B,qBAAqB,CAAEC,0BAA0B,CAAsC7B,eAAe,CAA/E6B,0BAA0B,CAAEC,+BAA+B,CAAK9B,eAAe,CAAnD8B,+BAA+B,CAAqB,OAAAF,qBAAA,CAAAC,0BAAA,CAAAC,+BAAA,EAGtH,MAAO,IAAM,CAAAC,YAAY,CAAGlC,WAAW,CAAC,CACpCmC,IAAI,CAAE,WAAW,CACjBlC,YAAY,CAAEA,YAAY,CAACC,QAAQ,CACnCkC,QAAQ,CAAE,CACNC,iBAAiB,CAAE,SAAAA,kBAACC,KAAK,CAAK,CAC1BA,KAAK,CAAGrC,YAAY,CAACC,QAAQ,CACjC,CACJ,CACJ,CAAC,CAAC,CAEK,GAAQ,CAAAmC,iBAAiB,CAAKH,YAAY,CAACK,OAAO,CAA1CF,iBAAiB,CAA0B,OAAAA,iBAAA,EAE1D,cAAe,CAAAH,YAAY,CAACM,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}