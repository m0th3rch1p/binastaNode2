{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  products: []\n};\nexport const productApiSlice = createApi({\n  reducerPath: \"productApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: `/products`\n  }),\n  tagTypes: ['products', 'product'],\n  endpoints: builder => ({\n    fetchProducts: builder.query({\n      query: function () {\n        let args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n          per_page: 10,\n          offset: 0,\n          cat: ''\n        };\n        return `/?per_page=${args.per_page}&offset=${args.offset}${args.cat ? `&cat=${args.cat}` : ''}`;\n      },\n      transformResponse: response => response.products,\n      providesTags: ['products']\n    }),\n    fetchSingleProduct: builder.query({\n      query: _ref => {\n        let {\n          slug\n        } = _ref;\n        return `/${slug}`;\n      },\n      transformResponse: response => response.product[0],\n      providesTags: ['products']\n    }),\n    fetchProductsByCategory: builder.query({\n      query: _ref2 => {\n        let {\n          per_page = 10,\n          offset = 0\n        } = _ref2;\n        return `/?per_page=${per_page}&offset=${offset}`;\n      },\n      transformResponse: response => response.products,\n      providesTags: ['products']\n    })\n  })\n});\nexport const {\n  useFetchProductsQuery,\n  useFetchSingleProductQuery,\n  useFetchProductsByCategoryQuery\n} = productApiSlice;\nexport const productSlice = createSlice({\n  name: 'addresses',\n  initialState: initialState.products,\n  reducers: {\n    resetAddressSlice: state => {\n      state = initialState.products;\n    }\n  }\n});\nexport const {\n  resetAddressSlice\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createApi","fetchBaseQuery","createSlice","initialState","products","productApiSlice","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","fetchProducts","query","args","arguments","length","undefined","per_page","offset","cat","transformResponse","response","providesTags","fetchSingleProduct","_ref","slug","product","fetchProductsByCategory","_ref2","useFetchProductsQuery","useFetchSingleProductQuery","useFetchProductsByCategoryQuery","productSlice","name","reducers","resetAddressSlice","state","actions","reducer"],"sources":["/home/z3r0/Desktop/binastaNode2/client-distributor-shop/src/store/reducers/productsSlice.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query/react\"\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { ProductVariation } from \"@/types/ProductVariation.type\";\nimport { argv } from \"process\";\n\nexport type Product = {\n    id?: number,\n    category_name?: string,\n    category_slug?: string,\n    name?: string,\n    slug?: string,\n    description?: string,\n    variations?: ProductVariation[],\n    images?: {url: string, ext: string}[],\n    related?: Product[]\n}\n\nconst initialState = {\n    products: [] as Product[],\n};\n\nexport const productApiSlice = createApi({\n    reducerPath: \"productApi\",\n    baseQuery: fetchBaseQuery({\n        baseUrl: `/products`\n    }),\n    tagTypes: ['products', 'product'],\n    endpoints: (builder) => ({\n        fetchProducts: builder.query<Product[], { per_page:number, offset: number, cat?: string | null } | void>({\n            query: (args: { per_page: number, offset: number, cat?: string | null} = { per_page: 10, offset: 0, cat: '' }) => `/?per_page=${args.per_page}&offset=${args.offset}${args.cat ? `&cat=${args.cat}` : ''}`,\n            transformResponse: (response: { products: Product[] }) => response.products,\n            providesTags: ['products'],\n        }),\n        fetchSingleProduct: builder.query<Product, { slug: string }>({\n            query: ({ slug }) => `/${slug}`,\n            transformResponse: (response: { product: Product[] }) => response.product[0],\n            providesTags: ['products']\n        }),\n        fetchProductsByCategory: builder.query<Product[], {per_page?: number, offset: number} | void>({\n            query: ({per_page = 10, offset = 0}: { per_page?: number, offset: number}) => `/?per_page=${per_page}&offset=${offset}`,\n            transformResponse: (response: { products: Product[] }) => response.products,\n            providesTags: ['products']\n        })\n    })\n});\n\nexport const { useFetchProductsQuery, useFetchSingleProductQuery, useFetchProductsByCategoryQuery } = productApiSlice;\n\n\nexport const productSlice = createSlice({\n    name: 'addresses',\n    initialState: initialState.products,\n    reducers: {\n        resetAddressSlice: (state) => {\n            state = initialState.products\n        },\n    }\n});\n\nexport const { resetAddressSlice } = productSlice.actions;\n\nexport default productSlice.reducer;"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,mCAAmC;AAC7E,SAASC,WAAW,QAAQ,kBAAkB;AAgB9C,MAAMC,YAAY,GAAG;EACjBC,QAAQ,EAAE;AACd,CAAC;AAED,OAAO,MAAMC,eAAe,GAAGL,SAAS,CAAC;EACrCM,WAAW,EAAE,YAAY;EACzBC,SAAS,EAAEN,cAAc,CAAC;IACtBO,OAAO,EAAG;EACd,CAAC,CAAC;EACFC,QAAQ,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC;EACjCC,SAAS,EAAGC,OAAO,KAAM;IACrBC,aAAa,EAAED,OAAO,CAACE,KAAK,CAA6E;MACrGA,KAAK,EAAE,SAAAA,CAAA;QAAA,IAACC,IAA8D,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;UAAEG,QAAQ,EAAE,EAAE;UAAEC,MAAM,EAAE,CAAC;UAAEC,GAAG,EAAE;QAAG,CAAC;QAAA,OAAM,cAAaN,IAAI,CAACI,QAAS,WAAUJ,IAAI,CAACK,MAAO,GAAEL,IAAI,CAACM,GAAG,GAAI,QAAON,IAAI,CAACM,GAAI,EAAC,GAAG,EAAG,EAAC;MAAA;MAC1MC,iBAAiB,EAAGC,QAAiC,IAAKA,QAAQ,CAAClB,QAAQ;MAC3EmB,YAAY,EAAE,CAAC,UAAU;IAC7B,CAAC,CAAC;IACFC,kBAAkB,EAAEb,OAAO,CAACE,KAAK,CAA4B;MACzDA,KAAK,EAAEY,IAAA;QAAA,IAAC;UAAEC;QAAK,CAAC,GAAAD,IAAA;QAAA,OAAM,IAAGC,IAAK,EAAC;MAAA;MAC/BL,iBAAiB,EAAGC,QAAgC,IAAKA,QAAQ,CAACK,OAAO,CAAC,CAAC,CAAC;MAC5EJ,YAAY,EAAE,CAAC,UAAU;IAC7B,CAAC,CAAC;IACFK,uBAAuB,EAAEjB,OAAO,CAACE,KAAK,CAAwD;MAC1FA,KAAK,EAAEgB,KAAA;QAAA,IAAC;UAACX,QAAQ,GAAG,EAAE;UAAEC,MAAM,GAAG;QAAuC,CAAC,GAAAU,KAAA;QAAA,OAAM,cAAaX,QAAS,WAAUC,MAAO,EAAC;MAAA;MACvHE,iBAAiB,EAAGC,QAAiC,IAAKA,QAAQ,CAAClB,QAAQ;MAC3EmB,YAAY,EAAE,CAAC,UAAU;IAC7B,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEO,qBAAqB;EAAEC,0BAA0B;EAAEC;AAAgC,CAAC,GAAG3B,eAAe;AAGrH,OAAO,MAAM4B,YAAY,GAAG/B,WAAW,CAAC;EACpCgC,IAAI,EAAE,WAAW;EACjB/B,YAAY,EAAEA,YAAY,CAACC,QAAQ;EACnC+B,QAAQ,EAAE;IACNC,iBAAiB,EAAGC,KAAK,IAAK;MAC1BA,KAAK,GAAGlC,YAAY,CAACC,QAAQ;IACjC;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEgC;AAAkB,CAAC,GAAGH,YAAY,CAACK,OAAO;AAEzD,eAAeL,YAAY,CAACM,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}